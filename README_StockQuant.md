# StockQuant 自动交易系统

## 项目概述

StockQuant是一个基于Python的自动化股票交易系统，使用技术分析指标来生成买入和卖出信号，并可以自动执行交易操作。

## 主要功能

1. 自动获取实时股票数据
2. 计算多种技术指标（MA, RSI, MACD, KDJ, 布林带等）
3. 根据技术指标组合生成买入和卖出信号
4. 模拟交易或实盘交易执行
5. 交易日志记录

## 技术指标

系统使用以下技术指标来生成交易信号：

### 买入信号条件
- 均线金叉（5日线上穿10日线）
- 价格在20日线上方
- RSI超卖反弹（RSI从低于30上升）
- MACD金叉（MACD线上穿信号线）
- KDJ金叉（K线上穿D线）
- 布林带下轨反弹
- 成交量放大（当日成交量超过5日均量的1.2倍）

### 卖出信号条件
- 均线死叉（5日线下穿10日线）
- 价格跌破20日线
- RSI超买回落（RSI从高于70下降）
- MACD死叉（MACD线下穿信号线）
- KDJ死叉（K线下穿D线）
- 布林带上轨回落
- 成交量萎缩（当日成交量低于5日均量的0.8倍）
- 放量下跌（当日成交量超过5日均量的1.5倍且价格下跌）
- 止损（价格下跌超过5%）
- 止盈（价格上涨超过10%）

## 最近改进

1. 添加了更多技术指标（RSI, MACD, KDJ, 布林带）来优化买入和卖出信号
2. 增加了成交量指标分析，提高买卖信号的准确性
3. 修复了日期处理和交易时间检查的问题
4. 改进了模拟数据生成逻辑，使测试更加可靠
5. 增强了错误处理和日志记录
6. 优化了买入和卖出信号的逻辑组合
7. 添加了止损和止盈功能

## 使用方法

1. 安装依赖：
```
pip install pandas numpy baostock talib
```

2. 运行自动交易脚本：
```
python 自动交易.py
```

## 测试模式

系统支持测试模式，可以模拟不同的市场情况来测试交易策略：
- 第1-2个周期：模拟金叉信号
- 第3个周期：强制触发买入信号
- 第4-5个周期：模拟死叉信号
- 第6个周期：强制触发卖出信号

## 注意事项

- 实盘交易前请务必进行充分的回测和模拟测试
- 交易策略需要根据个人风险承受能力和市场情况进行调整
- 系统提供的信号仅供参考，不构成投资建议 